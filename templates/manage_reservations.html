{% extends "admin_base.html" %}

{% block content %}
    <h2 style="margin-bottom: 15px">Manage Reservations</h2>

    <a href="{% url 'admin_add_reservation' %}"
       style="display:inline-block; background:#007bff; color:white; padding:8px 14px; border-radius:6px; text-decoration:none;">
        Add New Reservation
    </a>

    {% if reservations %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; margin-top: 20px;">
            {% for reservation in reservations %}
                <div style="background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 6px rgb(0,0,0,0.1);">
                    <h3 style="margin: 0;">{{ reservation.room.name }}</h3>
                    <p><strong>User:</strong>{{ reservation.user.username }}</p>
                    <p><strong>Date:</strong>{{ reservation.date }}</p>
                    <p><strong>Time:</strong>{{ reservation.start_time }} - {{ reservation.end_time }}</p>

                    <form action="{% url 'admin_cancel_reservation' reservation.id %}" method="post" style="margin-top: 10px">
                        {% csrf_token %}
                        <button type="submit"
                                style="background: #dc3545; color: white; padding: 6px 10px; border: none; border-radius: 6px; cursor:pointer;">
                                Cancel
                        </button>
                    </form>
                </div>
            {% endfor %}
        </div>
        {% else %}
        <p style="margin-top: 20px">No reservations are made yet.</p>
    {% endif %}
{% endblock %}